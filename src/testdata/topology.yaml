tosca_definitions_version: alien_dsl_2_0_0

metadata:
  template_name: HEAppETest
  template_version: 0.1.0-SNAPSHOT
  template_author: yorc

description: ""

imports:
  - yorc-types:1.1.0
  - tosca-normative-types:1.0.0-ALIEN20
  - docker-types:2.2.0-SM9
  - alien-base-types:2.2.0-SM9
  - heappe-types:0.1.0

topology_template:
  inputs:
    user:
      type: string
      required: true
      description: "User of HEAppE Middleware"
    password:
      type: string
      required: true
  node_templates:
    HEAppEJob:
      type: org.heappe.nodes.Job
      properties:
        user: { get_input: user }
        password: { get_input: password }
        jobSpecification: 
          name: testJobName
          project: testProjectName
          clusterNodeTypeId: 1
          priority: 4
          minCores: 1
          maxCores: 1
          waitingLimit: 600
          walltimeLimit: 600
          tasks: 
            - name: testTaskName
              commandTemplateId: 1
              templateParameterValues: 
                - commandParameterIdentifier: inputParam
                  parameterValue: inputParam
              minCores: 1
              maxCores: 1
              walltimeLimit: 600
              standardOutputFile: "console_Stdout"
              standardErrorFile: "console_Stderr"
              progressFile: "console_Stdprog"
              logFile: "console_Stdlog"

